# Zoe Financial Developer Test

### Solution
The decision of matching a contact with one of the agents is made by finding the agent with the closest distance.
Initially, with the given ZIP codes the coordinates for the agents and the contacts are requested to an external API. 
For both agents, the distance(km) to each contact is calculated and with this information it's possible to know the
closest agent for every contact.

### APIs
[Google Geocoding API](https://developers.google.com/maps/documentation/geocoding/start) was used to obtain geographical
information from ZIP codes. For it's use is was necessary to create a project in Google Cloud Platform and generate an
API key to access this service.

The API provides geocoding data from adresses and also ZIP codes, but there are some codes that are not found by the API
so they were not included in the matching process. (Can be seen in
[Google Geocoder Tool](https://google-developers.appspot.com/maps/documentation/utils/geocoder/),
on the options form set the postal code to _85273_ and country to _US_).

### Libraries
Apart from the included modules in Laravel, [Guzzle](http://docs.guzzlephp.org/en/stable/) was used as the HTTP client
to request the API services.

### Files
* `resources/views/layouts/app.blade.php`: main layout for the views
* `resources/views/home.blade.php`: initial page, contains the form for the agents information
* `resources/views/match_results.blade.php`: view containing the table with the matches


* `app/Http/Controllers/AgentMatcherController`: main controller of the application, handles client requests


* `app/AgentMatcher`: matching logic
* `app/DataLoader`: reading of local files
* `app/DistancesManager`: distance calculation and comparison
* `app/Geocoding`: integration with the geocoding API

> Files generated by Laravel scaffolding were kept to avoid errors

### Execution
The solution can be served in the PHP built-in web server via `php artisan serve`
> It may be necessary to link the `storage` folder with `php artisan storage:link` to read the `contacts.csv` file